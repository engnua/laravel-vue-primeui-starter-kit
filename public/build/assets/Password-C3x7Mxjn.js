import{s as V}from"./AppearanceSelector.vue_vue_type_script_setup_true_lang-CnSxzxmo.js";import{s as I}from"./index-COQMFvpU.js";import{d as C,A as x,r as m,z as g,D as P,C as M,f as l,o as p,w as a,e as o,u as d,m as $,b as r,i as N,j as w,g as f,t as _}from"./app-DupsMls6.js";import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-DtoklJHH.js";import{_ as E,a as U}from"./Layout.vue_vue_type_script_setup_true_lang-D15SARL_.js";import{s as v}from"./index-BL5bHxv5.js";import{S as z}from"./transition-r_9CSuG0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BdjDqTte.js";const B={class:"space-y-6"},T={class:"grid gap-2"},D={class:"grid gap-2"},L={class:"grid gap-2"},H={class:"flex items-center gap-4"},Q=C({__name:"Password",setup(j){const y=x(),b=m([{title:"Profile settings",icon:g.USER,route:route("profile.edit")},{title:"Password settings",icon:g.LOCK}]),u=m(null),c=m(null),s=P(M({current_password:"",password:"",password_confirmation:""})),k=()=>{s.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{s.reset()},onError:n=>{var e,t;n.password&&(s.reset("password","password_confirmation"),u.value instanceof HTMLInputElement&&((e=u.value)==null||e.$el.focus())),n.current_password&&(s.reset("current_password"),c.value instanceof HTMLInputElement&&((t=c.value)==null||t.$el.focus())),n.demo_user&&(s.reset(),y.add({severity:"error",summary:"Demo",detail:s.errors.demo_user,group:"tc",life:3e3}))}})};return(n,e)=>{const t=I,S=V;return p(),l(h,{breadcrumbs:b.value},{default:a(()=>[o(d($),{title:"Password settings"}),o(E,null,{default:a(()=>[r("div",B,[o(U,{title:"Update password",description:"Ensure your account is using a long, random password to stay secure"}),r("form",{onSubmit:N(k,["prevent"]),class:"space-y-6"},[r("div",T,[e[3]||(e[3]=r("label",{for:"current_password"},"Current password",-1)),o(d(v),{inputId:"current_password",ref_key:"currentPasswordInput",ref:c,modelValue:s.current_password,"onUpdate:modelValue":e[0]||(e[0]=i=>s.current_password=i),invalid:!!s.errors.current_password,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"current-password",placeholder:"Current password"},null,8,["modelValue","invalid","disabled"]),s.errors.current_password?(p(),l(t,{key:0,severity:"error",size:"small",variant:"simple"},{default:a(()=>[f(_(s.errors.current_password),1)]),_:1})):w("",!0)]),r("div",D,[e[4]||(e[4]=r("label",{for:"password"},"New password",-1)),o(d(v),{inputId:"password",ref_key:"passwordInput",ref:u,modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),invalid:!!s.errors.password,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"New password"},null,8,["modelValue","invalid","disabled"]),s.errors.password?(p(),l(t,{key:0,severity:"error",size:"small",variant:"simple"},{default:a(()=>[f(_(s.errors.password),1)]),_:1})):w("",!0)]),r("div",L,[e[5]||(e[5]=r("label",{for:"password_confirmation"},"Confirm password",-1)),o(d(v),{inputId:"password_confirmation",modelValue:s.password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=i=>s.password_confirmation=i),invalid:!!s.errors.password_confirmation,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"password-confirmation",placeholder:"Confirm password"},null,8,["modelValue","invalid","disabled"]),s.errors.password_confirmation?(p(),l(t,{key:0,severity:"error",size:"small",variant:"simple"},{default:a(()=>[f(_(s.errors.password_confirmation),1)]),_:1})):w("",!0)]),r("div",H,[o(S,{type:"submit",label:"Save password",disabled:s.processing,loading:s.processing},null,8,["disabled","loading"]),o(d(z),{show:s.recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:a(()=>e[6]||(e[6]=[r("p",{class:"text-sm text-neutral-600 dark:text-neutral-400"},"Saved",-1)])),_:1},8,["show"])])],32)])]),_:1})]),_:1},8,["breadcrumbs"])}}});export{Q as default};
