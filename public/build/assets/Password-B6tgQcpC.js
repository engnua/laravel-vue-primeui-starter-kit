import{s as V}from"./AppearanceSelector.vue_vue_type_script_setup_true_lang-2jSUHK3m.js";import{s as S}from"./index-DaKwtoGJ.js";import{d as I,A as C,r as m,z as x,D as M,C as P,f as l,o as p,w as t,e as o,u as i,m as $,b as r,i as N,j as w,g as f,t as _}from"./app-BHFLiKzk.js";import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-CplRfLLN.js";import{_ as z,a as B}from"./Layout.vue_vue_type_script_setup_true_lang-CkCe6aSc.js";import{s as v}from"./index-BpyevxFT.js";import{S as E}from"./transition-2aCz46rD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DtUDpxA_.js";const T={class:"space-y-6"},U={class:"grid gap-2"},D={class:"grid gap-2"},L={class:"grid gap-2"},H={class:"flex items-center gap-4"},R=I({__name:"Password",setup(j){const g=C(),y=m([{title:"Password settings",icon:x.LOCK}]),u=m(null),c=m(null),s=M(P({current_password:"",password:"",password_confirmation:""})),b=()=>{s.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{s.reset()},onError:n=>{var e,a;n.password&&(s.reset("password","password_confirmation"),u.value instanceof HTMLInputElement&&((e=u.value)==null||e.$el.focus())),n.current_password&&(s.reset("current_password"),c.value instanceof HTMLInputElement&&((a=c.value)==null||a.$el.focus())),n.demo_user&&(s.reset(),g.add({severity:"error",summary:"Demo",detail:s.errors.demo_user,group:"tc",life:3e3}))}})};return(n,e)=>{const a=S,k=V;return p(),l(h,{breadcrumbs:y.value},{default:t(()=>[o(i($),{title:"Password settings"}),o(z,null,{default:t(()=>[r("div",T,[o(B,{title:"Update password",description:"Ensure your account is using a long, random password to stay secure"}),r("form",{onSubmit:N(b,["prevent"]),class:"space-y-6"},[r("div",U,[e[3]||(e[3]=r("label",{for:"current_password"},"Current password",-1)),o(i(v),{inputId:"current_password",ref_key:"currentPasswordInput",ref:c,modelValue:s.current_password,"onUpdate:modelValue":e[0]||(e[0]=d=>s.current_password=d),invalid:!!s.errors.current_password,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"current-password",placeholder:"Current password"},null,8,["modelValue","invalid","disabled"]),s.errors.current_password?(p(),l(a,{key:0,severity:"error",size:"small",variant:"simple"},{default:t(()=>[f(_(s.errors.current_password),1)]),_:1})):w("",!0)]),r("div",D,[e[4]||(e[4]=r("label",{for:"password"},"New password",-1)),o(i(v),{inputId:"password",ref_key:"passwordInput",ref:u,modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),invalid:!!s.errors.password,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"New password"},null,8,["modelValue","invalid","disabled"]),s.errors.password?(p(),l(a,{key:0,severity:"error",size:"small",variant:"simple"},{default:t(()=>[f(_(s.errors.password),1)]),_:1})):w("",!0)]),r("div",L,[e[5]||(e[5]=r("label",{for:"password_confirmation"},"Confirm password",-1)),o(i(v),{inputId:"password_confirmation",modelValue:s.password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=d=>s.password_confirmation=d),invalid:!!s.errors.password_confirmation,style:{width:"100%"},inputStyle:{width:"100%"},feedback:!1,toggleMask:"",disabled:s.processing,type:"password",class:"mt-1 block w-full",autocomplete:"password-confirmation",placeholder:"Confirm password"},null,8,["modelValue","invalid","disabled"]),s.errors.password_confirmation?(p(),l(a,{key:0,severity:"error",size:"small",variant:"simple"},{default:t(()=>[f(_(s.errors.password_confirmation),1)]),_:1})):w("",!0)]),r("div",H,[o(k,{type:"submit",label:"Save password",disabled:s.processing,loading:s.processing},null,8,["disabled","loading"]),o(i(E),{show:s.recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:t(()=>e[6]||(e[6]=[r("p",{class:"text-sm text-neutral-600 dark:text-neutral-400"},"Saved",-1)])),_:1},8,["show"])])],32)])]),_:1})]),_:1},8,["breadcrumbs"])}}});export{R as default};
